
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Cookbook</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta name="mobile-web-app-capable" content="yes"> -->
    <link rel="icon" sizes="192x192" href="/icon_192.png" />
    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="green">
    <meta name="apple-mobile-web-app-title" content="My Cookbook">
    <link rel="apple-touch-icon" href="/icon_512.png" />

    <link rel="shortcut icon" sizes="16x16" type="image/png" href="/icon_16.png" />
    <link rel="shortcut icon" sizes="16x16" type="image/png" href="http://cookbook.local/icon_16.png" />

    <!-- <meta name="theme-color" content="#263238"> -->
    <meta name="application-name" content="My Cookbook">
    <meta name="description" content="Cookbook web application">


  <!-- JQuery for Bootstrap and Parse-->
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- <script type="text/javascript" src="js/jquery.min.js"></script> -->

<!-- Backbonejs -->
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.2.1/backbone-min.js"></script>
<!--     <script type="text/javascript" src="js/underscore-min.js"></script>
    <script type="text/javascript" src="js/backbone-min.js"></script>
 -->

  <!-- Parse.com -->
    <!-- <script src="//www.parsecdn.com/js/parse-1.4.2.min.js"></script> -->
    <script src="//www.parsecdn.com/js/parse-1.4.2.js"></script>
    <!-- <script type="text/javascript" src="js/parse-1.4.2.min.js"></script> -->
  
  <!-- Plugins -->
    <!-- Language detection -->
    <script type="text/javascript" src="bower_components/franc/dist/franc.js" charset="utf-8"></script>
    <!-- franc('Alle menslike wesens word vry'); -->
    <script type="text/javascript" src="bower_components/backbone.typeahead/backbone.typeahead.js"></script>
    <script type="text/javascript" src="js/backbone.labelselector.js"></script>
    <script type="text/javascript" src="bower_components/underi18n/underi18n.js"></script>
    <script src="js/dropzone.js"></script>

    <!-- editor -->
    <script src="//cdn.jsdelivr.net/medium-editor/latest/js/medium-editor.min.js"></script>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/medium-editor/latest/css/medium-editor.min.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/medium-editor/latest/css/themes/default.min.css" type="text/css" media="screen" charset="utf-8">

  <!-- bootstrap -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <!-- <link rel="stylesheet" type="text/css" href="bootstrap/3.3.5/css/bootstrap.min.css"> -->
    <!-- <link rel="stylesheet" type="text/css" href="bootstrap/3.3.5/css/bootstrap-theme.min.css"> -->
    
    <script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <!-- <script type="text/javascript" src="bootstrap/3.3.5/js/bootstrap.min.js"></script> -->
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


  <!-- Material design -->
    <!-- <link rel="stylesheet" href="//storage.googleapis.com/code.getmdl.io/1.0.0/material.indigo-green.min.css"> -->
    <!-- <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.0/material.light_green-pink.min.css" />  -->
    <link rel="stylesheet" href="//storage.googleapis.com/code.getmdl.io/1.0.0/material.green-deep_orange.min.css" /> 

    <!-- Fonts -->
    <link href='//fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en' rel='stylesheet' type='text/css'>
    <link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- App -->
    <link rel="stylesheet" type="text/css" href="css/app.css">
    <script type="text/javascript" src="js/app.js"></script>

    <script type="text/javascript">
      $(document).ready(function() {
          // App init
          app.init();
      });
    //Facebook init
      (function(d, s, id){
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) {return;}
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/sdk.js";
          fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
    </script>
    

<!-- templates -->




<script type="text/template" id="navigationLabelGroup-tmpl">
  <label class="groupName"><i class="material-icons">chevron_right</i><%= name %></label>
  <div class="labels hidden"></div>
</script>

<script type="text/template" id="navigationLabel-tmpl">
<i class="mdl-color-text--light-green-900 material-icons label label-<%= id %>">label</i><%= recipe.name %>
</script>


<script type="text/template" id="recipeListItem-tmpl" class="recipe-<%= id %>">
  <div class="recipeListItem recipe-card-content mdl-shadow--2dp">
    <div class="mdl-card__title">
      <img src="<%= user.avatar %>" alt="<%= user.name %>" title="<%= user.name %>" class="author img-circle app-avatar-small">
      <h2 class="mdl-card__title-text name"><%= recipe.name %></h2>
    </div>
    <div class="thumbnail">
      <img src="<% if (recipe.coverImageUrl) { print(recipe.coverImageUrl) } else { print('https://s3.amazonaws.com/cookbookimg/NoImage.jpg') } %>" alt="<%= recipe.name %>" title="<%= recipe.name %>" class="image">
    </div>
    <div class="mdl-card__supporting-text recipe-short-desc">
      <%= recipe.description %>
    </div>
    <div class="labels mdl-card--border">

    </div>
    <div class="mdl-card__actions mdl-card--border">
      <a class="btnRead mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
        <%_ Read %>
      </a>
  <% if ( !Parse.User.current() || (Parse.User.current() && user.objectId !== Parse.User.current().id) ) {  %>
      <a class="btnClone mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
        <%_ Save_to_My_Book %>
      </a>
  <% } %>
      <a class="btn-add-to-favorites pull-right mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect mdl-button--colored ">
        <i class="material-icons">favorite_border</i>
      </a>
      <% if(!recipe.private) { %>
      <button class="pull-right mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
        <i class="material-icons">share</i>
      </button>
      <% } %>
    </div>
    <div class="mdl-card__menu">
    </div>
  </div>
</script> 


<script type="text/template" id="viewRecipe-tmpl">
<div id="viewRecipe" class="recipe-<%= id %>">
  <div class="recipe-card-content mdl-shadow--2dp">
    <div class="mdl-card__title">
      <img src="<%= user.avatar %>" alt="<%= user.name %>" title="<%= user.name %>" class="author img-circle app-avatar-small">
      <h2 class="mdl-card__title-text name"><%= recipe.name %></h2>
    </div>
    <div class="thumbnail">
      <img src="<% if (recipe.coverImageUrl) { print(recipe.coverImageUrl) } else { print('https://s3.amazonaws.com/cookbookimg/NoImage.jpg') } %>" alt="<%= recipe.name %>" title="<%= recipe.name %>" class="image">
    </div>
    <div id="labels"></div>
    <div class="mdl-card__supporting-text recipe-short-desc">
      <%= recipe.description %>
    </div>
    <div class="mdl-card__supporting-text recipe-short-desc">
      <%= recipe.ingredients %>
    </div>
    <div class="mdl-card__supporting-text recipe-short-desc">
      <%= recipe.directions %>
    </div>
    <div class="labels mdl-card--border">

    </div>
    <div class="mdl-card__actions mdl-card--border">
  <% if ( !Parse.User.current() || (Parse.User.current() && user.objectId !== Parse.User.current().id) ) {  %>
      <a class="btnClone mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
        <%_ Save_to_My_Book %>
      </a>
  <%  } else { %>
      <a class="btnEdit mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
        <%_ Edit %>
      </a>
  <% } %>
      <a class="btn-add-to-favorites pull-right mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect mdl-button--colored ">
        <i class="material-icons">favorite_border</i>
      </a>
      <% if(!recipe.private) { %>
      <button class="pull-right mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
        <i class="material-icons">share</i>
      </button>
      <% } %>
    </div>
    <div class="mdl-card__menu">
      <a class="close pull-right mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect ">
        <i class="material-icons">highlight_off</i>
      </a>
    </div>
  </div>
</div>
</script>
<!-- /#viewRecipe-tmpl template --> 


<script type="text/template" id="editRecipe-tmpl">
<div id="editRecipe" class="recipe-<%= id %>">
  <div class="thumbnail">
      <a class="close pull-right mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect ">
        <i class="material-icons">highlight_off</i>
      </a>
    <div>
      <label for="editRecipeName" class="name"><%_ Name %></label>
      <input id="editRecipeName" name="name" class="form-control name" value="<%= recipe.name %>">
    </div>
    <div class="thumbnail image-container">
      <img src="<% if (recipe.coverImageUrl) { print(recipe.coverImageUrl) } else { print('https://s3.amazonaws.com/cookbookimg/NoImage.jpg') } %>" alt="<%= recipe.name %>" title="<%= recipe.name %>" class="image">
      <div class="after upload_image"><i class="material-icons">camera_alt</i></div>
    </div>
    <input type="file" name="image_upload" id="image_upload" accept="image/*" capture="camera"/> 
    <label for="editRecipeDescription" class=""><%_ Description %></label>
    <textarea name="editRecipeDescription" id="editReciptDescription" class="editable description" rows="3" required="required"><%= recipe.description %></textarea>
    <label for="editRecipeIngredients" class=""><%_ Ingredients %></label>
    <textarea name="editRecipeIngredients" id="editRecipeIngredients" class="editable ingredients" rows="5" required="required"><%= recipe.ingredients %></textarea>
    <label for="editRecipeDirections" class=""><%_ Directions %></label>
    <textarea name="editRecipeDirections" id="editReciptDirections" class="editable directions" rows="10" required="required"><%= recipe.directions %></textarea>
    <label id="editRecipePrivate" for="switch-private" class="mdl-switch mdl-js-switch mdl-js-ripple-effect">
      <input type="checkbox" id="switch-private" class="mdl-switch__input" />
      <span class="mdl-switch__label">Private</span>
    </label>
    <label for="editRecipeLabels" class=""><%_ Labels %></label>
    <!-- <textarea name="editRecipeLabels" id="editRecipeLabels" class="form-control mdl-textfield__input" rows="2"></textarea>-->
    <div class="labelGroups"></div>
    <div id="editRecipeLabels"></div>
    <div class="footer">
      <button id="btnEditRecipeDiscard" type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"><%_ Discard %></button>
      <button id="btnEditRecipeSave" type="button" class="pull-right mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"><%_ Save %></button>
    </div>
  </div>
</div>
</script>
<!-- /#editRecipe-tmpl panel --> 


<script type="text/template" id="application-tmpl">
    <div class="app-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
      <header class="app-header mdl-layout__header mdl-color--white mdl-color--grey-100 mdl-color-text--grey-600">
        <div class="mdl-layout__header-row">
          <span class="mdl-layout-title"></span>
          <div class="mdl-layout-spacer"></div>
          <div class="mdl-spinner mdl-js-spinner appSpinner"></div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
            <label class="mdl-button mdl-js-button mdl-button--icon" for="search">
              <i class="material-icons">search</i>
            </label>
            <div class="mdl-textfield__expandable-holder">
              <input class="mdl-textfield__input" type="text" id="search" />
              <label class="mdl-textfield__label" for="search"></label>
            </div>
          </div>
          <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" id="hdrbtn">
            <i class="material-icons">more_vert</i>
          </button>
          <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right" for="hdrbtn">
            <li class="mdl-menu__item"><%_ About %></li>
            <li class="mdl-menu__item"><%_ Contact %></li>
            <li class="mdl-menu__item"><%_ Legal_information %></li>
          </ul>
        </div>
      </header>
      <div class="app-drawer mdl-layout__drawer mdl-color--light-green-900 mdl-color-text--light-green-50">
        <header class="app-drawer-header">
          <img src="/icon_512.png" class="filter-user-avatar"><span class='filter-user-name'></span>
        </header>
        <nav class="app-navigation mdl-navigation mdl-color--light-green-800">

          <a class="cmdListAllRecipes mdl-navigation__link topnav" href=""><i class="mdl-color-text--light-green-400 material-icons">cloud</i><%_ All %></a>
          <a class="cmdListMyRecipes mdl-navigation__link topnav" href=""><i class="mdl-color-text--light-green-900 material-icons">face</i><%_ My %></a>
          <a class="cmdListFavoritedRecipes mdl-navigation__link topnav" href=""><i class="mdl-color-text--light-green-900 material-icons">favorite</i><%_ Favorites %></a>
          <div id="LabelGroupsViewPlaceholder"></div>
          <!-- <a class="mdl-navigation__link" href=""><i class="mdl-color-text--light-green-900 material-icons">list</i><%_ Edit Catalog %></a> -->
          <div class="mdl-layout-spacer"></div>
          <a class="help" href=""><i class="mdl-color-text--light-green-900 material-icons">help_outline</i></a>

          <a class="btnSignIn mdl-navigation__link" href="#"><i class="mdl-color-text--light-green-900 material-icons">person</i><%_ Sign_In %> / <%_ Login %></a>
          <div class='loginedUser mdl-color--teal-900'>
            <img src="images/user.jpg" class="app-avatar"><span class='app-user-name'></span>
            <button id="accbtn" class="pull-right mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
              <i class="material-icons">arrow_drop_down</i>
            </button>
            <ul class="mdl-menu mdl-menu--top-right mdl-js-menu mdl-js-ripple-effect" for="accbtn">
              <button class="mdl-menu__item btnLogout"><%_ Logout %></button>
            </ul>
          </div>  
        </nav>
      </div>
      <main class="mdl-layout__content mdl-color--grey-100">
        <div class="mdl-grid app-content grid">
          <div id="recipeResultsList" class="row">

          </div>
          <!-- #recipeResultsList -->

          <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored" id="btnCreateRecipe">
            <i class="material-icons">add</i>
          </button>

          <div id="viewRecipePlaceholder"  class="col-xs-12 col-md-10"></div>
          <div id="editRecipePlaceholder"  class="col-xs-12 col-md-10"></div>
        </div>
        <!-- /app-content -->
      </main>
    </div>
</script>
  </head>
  <body>
    
    <script src="//storage.googleapis.com/code.getmdl.io/1.0.0/material.min.js"></script>
  </body>
</html>